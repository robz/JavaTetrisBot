import java.awt.*;

class Piece {
    Color colorObj;
    int color;
    int[][][] positions;
    int offr, offc;
    int cur_pos;
    
    public Piece(int color, int[][][] positions, int or, int oc) { 
        this.color = color; 
        this.colorObj = new Color(color);
        this.positions = positions;
        this.offr = or;
        this.offc = oc;
        this.cur_pos = 0;
    }

    public int getCurPosWidth() {
        return positions[this.cur_pos][0][1];
    }

    public int getCurPosLeftPad() {
        return positions[this.cur_pos][0][0];
    }

    public int getCurPosColHeight(int col) {
        return positions[this.cur_pos][0][2+col];
    }

    public boolean isIn(int r, int c) {
        if (r < offr || r >= 4+offr || c < offc || c >= 4+offc) 
            return false;
        return positions[cur_pos][r-offr+1][c-offc] == 1;
    }

    public void rotate() {
        cur_pos = (cur_pos+1)%positions.length;
    }

    public boolean fills(int pos, int r, int c) {
        return positions[pos][r+1][c] == 1;
    }

    public Piece deepcopy() {
        return new Piece(this.color,
                         this.positions,
                         this.offr, 
                         this.offc);
    }

    static int[][][][] piece_configs = {
        {
            { {0,2, 2,2},
              {1,1,0,0},
              {1,1,0,0},
              {0,0,0,0},
              {0,0,0,0} },
        },
        {
            { {0,4, 2,2,2,2},
              {0,0,0,0},
              {1,1,1,1},
              {0,0,0,0},
              {0,0,0,0} },
            
            { {2,1, 4},
              {0,0,1,0},
              {0,0,1,0},
              {0,0,1,0},
              {0,0,1,0} },
            
            { {0,4, 3,3,3,3},
              {0,0,0,0},
              {0,0,0,0},
              {1,1,1,1},
              {0,0,0,0} },
            
            { {1,1, 4},
              {0,1,0,0},
              {0,1,0,0},
              {0,1,0,0},
              {0,1,0,0} },
        },
        {
            { {0,3, 2,2,2},
              {0,0,1,0},
              {1,1,1,0},
              {0,0,0,0},
              {0,0,0,0} },
            
            { {1,2, 3,3},
              {0,1,0,0},
              {0,1,0,0},
              {0,1,1,0},
              {0,0,0,0} },
            
            { {0,3, 3,2,2},
              {0,0,0,0},
              {1,1,1,0},
              {1,0,0,0},
              {0,0,0,0} },
            
            { {0,2, 1,3},
              {1,1,0,0},
              {0,1,0,0},
              {0,1,0,0},
              {0,0,0,0} },
        },
        {
            { {0,3, 2,2,2},
              {1,0,0,0},
              {1,1,1,0},
              {0,0,0,0},
              {0,0,0,0} },
            
            { {1,2, 3,1},
              {0,1,1,0},
              {0,1,0,0},
              {0,1,0,0},
              {0,0,0,0} },
            
            { {0,3, 2,2,3},
              {0,0,0,0},
              {1,1,1,0},
              {0,0,1,0},
              {0,0,0,0} },
            
            { {0,2, 3,3},
              {0,1,0,0},
              {0,1,0,0},
              {1,1,0,0},
              {0,0,0,0} },
        },
        {
            { {0,3, 2,2,2},
              {0,1,0,0},
              {1,1,1,0},
              {0,0,0,0},
              {0,0,0,0} },
            
            { {1,2, 3,2},
              {0,1,0,0},
              {0,1,1,0},
              {0,1,0,0},
              {0,0,0,0} },
            
            { {0,3, 2,3,2},
              {0,0,0,0},
              {1,1,1,0},
              {0,1,0,0},
              {0,0,0,0} },
            
            { {0,2, 2,3},
              {0,1,0,0},
              {1,1,0,0},
              {0,1,0,0},
              {0,0,0,0} },
        },
        {
            { {0,3, 2,2,1},
              {0,1,1,0},
              {1,1,0,0},
              {0,0,0,0},
              {0,0,0,0} },
            
            { {1,2, 2,3},
              {0,1,0,0},
              {0,1,1,0},
              {0,0,1,0},
              {0,0,0,0} },
            
            { {0,3, 3,3,2},
              {0,0,0,0},
              {0,1,1,0},
              {1,1,0,0},
              {0,0,0,0} },
            
            { {0,2, 2,3},
              {1,0,0,0},
              {1,1,0,0},
              {0,1,0,0},
              {0,0,0,0} },
        },
        {
            { {0,3, 1,2,2},
              {1,1,0,0},
              {0,1,1,0},
              {0,0,0,0},
              {0,0,0,0} },
            
            { {1,2, 3,2},
              {0,0,1,0},
              {0,1,1,0},
              {0,1,0,0},
              {0,0,0,0} },
            
            { {0,3, 2,3,3},
              {0,0,0,0},
              {1,1,0,0},
              {0,1,1,0},
              {0,0,0,0} },
            
            { {0,2, 3,2},
              {0,1,0,0},
              {1,1,0,0},
              {1,0,0,0},
              {0,0,0,0} },
        },
    };
}
